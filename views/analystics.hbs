
      <!-- Right panel starts-->
      <div class="right-panel col-11">
            <div class=" col-9">
             <canvas id="myChart"></canvas>
     </div>  
      </div>

  <script>
function createPieChart(labels, data) {
    const ctx = document.getElementById('myChart').getContext('2d');
    const myChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: labels,
        datasets: [
          {
            label: 'Revenue',
            data: data,
            backgroundColor: [
              'rgba(158, 140, 203, 0.2)',
            ],
            borderColor: [
              'rgba(158, 140,203, 1)',
            ],
            borderWidth: 1,
          },
        ],
      },
    });
  }

function calculateRevenue(orderData) {

    const revenuePerCategory = orderData.reduce((acc, order) => {
      const category = order.category; // Replace with your actual category property
      acc[category] = (acc[category] || 0) + order.total;
      return acc;
    }, {});
    return Object.entries(revenuePerCategory).map(([category, revenue]) => ({ category, revenue }));
  }

function processOrderData(orders) {
  // Your processing logic here
  const orderLabels = orders.map(order => order.orderDate);
  const orderTotals = orders.map(order => order.total);

  createPieChart(orderLabels, orderTotals);
}
  fetch('/api/orders')
    .then(response => {
      if (!response.ok) {
        throw new Error(`Network response was not ok: ${response.statusText}`);
      }
      return response.json();
    })
    .then(orders => {
      const orderData = processOrderData(orders); // Assuming processOrderData is defined
      const revenueData = calculateRevenue(orderData);
      createPieChart(revenueData.map(data => data.category), revenueData.map(data => data.revenue));
    })
    .catch(error => console.error('Error fetching orders:', error));
  </script>